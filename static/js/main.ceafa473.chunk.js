(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t),n.d(t,"randomInt",(function(){return c})),n.d(t,"randomIntInRange",(function(){return u})),n.d(t,"trueWithProbabilty",(function(){return s})),n.d(t,"choose",(function(){return l})),n.d(t,"structuredClone",(function(){return b})),n.d(t,"getRandom",(function(){return f})),n.d(t,"sample",(function(){return d})),n.d(t,"stringifyTleaf",(function(){return p})),n.d(t,"stringifySpecimen",(function(){return h})),n.d(t,"chooseOne",(function(){return m})),n.d(t,"tournament",(function(){return j})),n.d(t,"specimenToCode",(function(){return O})),n.d(t,"mapSpecimenToStorable",(function(){return v}));var r=n(19),o=n(8),i=n(75),a=n(13);function c(e){return Math.floor(Math.random()*e)}function u(e,t){return c(t-e)+e}function s(e){return Math.random()<e}function l(e){return e[c(e.length)]}var b=function(e){return JSON.parse(JSON.stringify(e))};function f(e,t){return Math.random()*(t-e)+e}function d(e,t){var n=Object(a.a)(Array(t).keys()).map((function(){return c(e.length)}));return n.sort(),n.map((function(t){return e[t]}))}function p(e){return e.value.length||Number.isInteger(e.value)||"boolean"===typeof e.value?e.value:e.value.toFixed(5)}function h(e){return"T"===e.type?"".concat(p(e)):"".concat(e.name,"(").concat(e.children?e.children.map(h).join(", "):"",")")}function m(e,t){var n=Math.min.apply(Math,Object(a.a)(Object(a.a)(Array(t).keys()).map((function(){return Math.random()}))));return e[Math.floor(n*e.length)]}function j(e,t){var n,r=Object(i.a)(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(s(t))return o}}catch(a){r.e(a)}finally{r.f()}return e[e.length-1]}function O(e,t,n){var i=function e(n){var i,c=n.children?n.children.map(e):null;return"T"===n.type?{code:"".concat(p(n)),functionsUsed:{}}:{code:(i=t[n.name]).toCode.apply(i,Object(a.a)(c.map((function(e){return e.code})))),functionsUsed:Object(o.a)(Object(o.a)({},(c?c.map((function(e){return e.functionsUsed})):[]).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}))),{},Object(r.a)({},n.name,1))}}(e);return"const myFunction = (".concat(n,") => ").concat(i.code,"\n").concat(Object.keys(i.functionsUsed).filter((function(e){return t[e].codeAddition})).map((function(e){return t[e].codeAddition})).join("\n"))}function v(e,t,n){return{function:h(e),fitness:e.fitness.toFixed(5),code:O(e,t,n)}}},320:function(e,t,n){"use strict";n.r(t),n.d(t,"specimenEvaluator",(function(){return o}));var r=n(13);function o(e){return function t(n,o){var i;return"F"===o.type?(i=e[o.name]).function.apply(i,Object(r.a)(o.children.map((function(e){return t(n,e)})))):function(e){var t;return null!==(t=n[e.value])&&void 0!==t?t:e.value}(o)}}},321:function(e,t,n){"use strict";n.r(t),n.d(t,"generateTree",(function(){return s})),n.d(t,"mutate",(function(){return b})),n.d(t,"crossover",(function(){return f}));var r=n(13),o=n(16),i=o.choose,a=o.structuredClone,c=o.randomInt;function u(e){return e.subNodesCount=1+(e.children?e.children.map((function(e){return u(e),e.subNodesCount})).reduce((function(e,t){return e+t})):0),e}function s(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;function c(a){var u=a===o?n:"full"===e.toLowerCase()||1===a?t:[].concat(Object(r.a)(t),Object(r.a)(n)),s=i(u);return s.arity?{type:"F",name:s.name,level:a,children:Object(r.a)(Array(s.arity)).map((function(){return c(a+1)}))}:{type:"T",value:s(),level:a}}return u(c(a))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===t&&!e.children)return{node:n,childNumber:r};for(var o in e.children){var i=e.children[o];if(t<i.subNodesCount)return l(i,t,e,o);t-=i.subNodesCount}return{node:n,childNumber:r}}function b(e,t,n,r,o){var i=a(e),b=l(e,c(i.subNodesCount-1)),f=b.node,d=b.childNumber;return f.children[d]=s(t,n,r,o,f.level+1),u(e)}function f(e,t){var n=a(e),r=a(t),o=c(n.subNodesCount-1),i=c(r.subNodesCount-1),s=l(n,o),b=s.node,f=s.childNumber,d=l(r,i),p=d.node,h=d.childNumber,m=b.children[f];return b.children[f]=p.children[h],p.children[h]=m,[u(n),u(r)]}},322:function(e,t){function n(e,t,n){return t.map((function(t){return t.y-e(t,n)})).map((function(e){return e*e})).reduce((function(e,t){return e+t}))}e.exports={fitness:n,assignFitness:function(e,t,r){return r.fitness=Number(n(e,t,r).toFixed(5)),r}}},323:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(0),i=n.n(o),a=n(11),c=n.n(a),u=(n(93),n(94),n(23)),s=n.n(u),l=n(42),b=n(37),f=n(385),d=n(387),p=n(374),h=n(388),m=n(372),j=n(382),O=n(367),v=n(375),g=n(26),y=n(386),S=n(370),x=Object(O.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},button:{padding:e.spacing(3)}}}}));var N=Object(g.b)((function(e){return{problemType:e.problemType,populationSize:e.populationSize,numberOfGenerations:e.numberOfGenerations,maxTreeDepth:e.maxTreeDepth,tournamentSize:e.tournamentSize,tournamentWinningProbability:e.tournamentWinningProbability,crossoverProbability:e.crossoverProbability,pointsRaw:e.pointsRaw,leavesRaw:e.leavesRaw,functions:e.functions,algorithmState:e.algorithmState,currentGeneration:e.currentGeneration,desiredGeneration:e.desiredGeneration}}),(function(e){return{setValue:function(t,n){return e({type:"INPUT_CHANGE",value:n,field:t})},setFunction:function(t){return e({type:"SET_FUNCTION",name:t.target.name,value:t.target.checked})},resetAlgorithmState:function(){return e({type:"SET_ALGORITHM_STATE",value:"BEFORE_RUN"})},setDesiredGeneration:function(t){return e({type:"SET_DESIRED_GENERAION",value:t})}}}))((function(e){var t=e.algorithm,n=e.problemType,i=e.populationSize,a=(e.numberOfGenerations,e.maxTreeDepth),c=e.tournamentSize,u=(e.tournamentWinningProbability,e.crossoverProbability),O=e.pointsRaw,g=e.leavesRaw,N=e.setValue,F=e.functions,T=e.setFunction,C=e.algorithmState,E=e.resetAlgorithmState,G=e.currentGeneration,R=e.setDesiredGeneration,w=e.desiredGeneration,P=x(),k=Object(o.useState)(5),A=Object(b.a)(k,2),M=A[0],_=A[1],I=function(e){return e[0].toUpperCase()+e.slice(1)},U=Object(o.useCallback)((function(){"BEFORE_RUN"!==C?t.createNextGeneration():t.startAndCreateFirstGeneration()}),[t,C]),B=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(Number(G)+Number(M)),U();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){setTimeout((function(){Number(G)<Number(w)&&U()}),0)}),[U,G,w]),Object(r.jsxs)("form",{className:P.root,noValidate:!0,autoComplete:"off",children:[Object(r.jsxs)(S.a,{container:!0,spacing:1,children:[[{name:"population-size",value:i,stateField:"populationSize"},{name:"max-tree-depth",value:a,stateField:"maxTreeDepth"},{name:"tournament-size",value:c,stateField:"tournamentSize"},{name:"crossover-probabilty",value:u,stateField:"crossoverProbability"}].map((function(e){var t=e.name,n=e.value,o=e.stateField;return Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(j.a,{id:t,label:t.split("-").map(I).join(" "),type:"number",value:n,onChange:function(e){return N(o,Number(e.target.value))},InputLabelProps:{shrink:!0},variant:"outlined",disabled:"BEFORE_RUN"!==C},t)})})),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(j.a,{id:"points",label:"Points (last column is y)",multiline:!0,rows:10,value:O,variant:"outlined",onChange:function(e){return N("pointsRaw",e.target.value)}})}),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(j.a,{id:"leaves",label:"Possible leaves",multiline:!0,rows:10,value:"boolean"===n?"true, false":g,variant:"outlined",onChange:function(e){return N("leavesRaw",e.target.value)},disabled:"boolean"===n})})]}),Object(r.jsxs)(S.a,{container:!0,spacing:1,children:[Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,children:Object(r.jsxs)(h.a,{component:"fieldset",children:[Object(r.jsx)(m.a,{component:"legend",children:"Problem type"}),Object(r.jsx)(d.a,{"aria-label":"problem-type",name:"problem-type",value:n,onChange:function(e){return N("problemType",e.target.value)},children:["real","integer","boolean"].map((function(e){return Object(r.jsx)(p.a,{value:e,control:Object(r.jsx)(f.a,{disabled:"BEFORE_RUN"!==C}),label:I(e)},e)}))})]})}),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,children:Object(r.jsx)(h.a,{component:"fieldset",children:Object.keys(F).map((function(e){return Object(r.jsx)(p.a,{control:Object(r.jsx)(y.a,{checked:F[e],name:e,onChange:function(e){T(e)},disabled:"BEFORE_RUN"!==C},e),label:e})}))})})]}),Object(r.jsxs)(S.a,{container:!0,spacing:2,children:[Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(v.a,{className:P.button,variant:"contained",color:"primary",onClick:function(){t.startAndCreateFirstGeneration()},children:"Create first generation"})}),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(v.a,{className:P.button,variant:"contained",color:"primary",onClick:U,children:"Create Next Generation"})}),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(v.a,{className:P.button,variant:"contained",color:"primary",onClick:B,children:"Run N Generations"})}),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(j.a,{label:"Number of generations to run",type:"number",value:M,onChange:function(e){return _(e.target.value)},InputLabelProps:{shrink:!0},variant:"outlined"})}),Object(r.jsx)(S.a,{item:!0,xs:12,sm:6,md:3,lg:2,children:Object(r.jsx)(v.a,{className:P.button,variant:"contained",color:"primary",onClick:E,children:"Reset"})})]})]})})),F=n(379),T=n(381),C=n(377),E=n(378),G=n(380),R=n(376),w=n(373),P=n(324),k=n(384),A=Object(O.a)({table:{}});var M=Object(g.b)((function(e){return{generation:e.currentGeneration,bestSpecimens:e.bestSpecimens,bestSpecimen:e.bestSpecimen}}),(function(e){return{}}))((function(e){var t=e.generation,n=e.bestSpecimens,i=e.bestSpecimen,a=A(),c=Object(o.useState)(null===i||void 0===i?void 0:i.code),u=Object(b.a)(c,2),s=u[0],l=u[1],f=function(e,t,n){return Object(r.jsxs)(R.a,{children:[Object(r.jsx)(C.a,{component:"th",scope:"row",align:"right",children:n||t+1}),Object(r.jsx)(C.a,{align:"right",children:Object(r.jsx)(P.a,{children:e.function})}),Object(r.jsx)(C.a,{align:"right",children:e.fitness}),Object(r.jsx)(C.a,{align:"right",children:Object(r.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){return l(e.code)},children:"Show code"})})]},t)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("h1",{children:["Generation: ",t]}),s||(null===i||void 0===i?void 0:i.code)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Code:"}),Object(r.jsx)(k.a,{language:"javascript",lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},wrapLines:!0,children:s||(null===i||void 0===i?void 0:i.code)})]}):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)(E.a,{component:w.a,children:Object(r.jsxs)(F.a,{className:a.table,"aria-label":"simple table",children:[(i?[i]:[]).map((function(e,t){return f(e,t,"Global Best")})),Object(r.jsx)(G.a,{children:Object(r.jsxs)(R.a,{children:[Object(r.jsx)(C.a,{align:"right",children:"Number"}),Object(r.jsx)(C.a,{align:"right",children:"Function"}),Object(r.jsx)(C.a,{align:"right",children:"Error Squared"}),Object(r.jsx)(C.a,{align:"right",children:"Show Code"})]})}),Object(r.jsx)(T.a,{children:n.map((function(e,t){return f(e,t)}))})]})})]})}));var _=Object(g.b)((function(e){return{problemType:e.problemType,populationSize:e.populationSize,numberOfGenerations:e.numberOfGenerations,maxTreeDepth:e.maxTreeDepth,tournamentSize:e.tournamentSize,tournamentWinningProbability:e.tournamentWinningProbability,crossoverProbability:e.crossoverProbability,pointsRaw:e.pointsRaw,leavesRaw:e.leavesRaw,functions:e.functions}}),(function(e){return{setFunctions:function(t){return e({type:"SET_FUNCTIONS",functions:t})},setAlgorithmState:function(t){return e({type:"SET_ALGORITHM_STATE",value:t})},setCurrentGeneration:function(t){return e({type:"SET_CURRENT_GENERATION",value:t})},setBestSpecimens:function(t){return e({type:"SET_BEST_SPECIMENS",value:t})},setBestSpecimen:function(t){return e({type:"SET_BEST_SPECIMEN",value:t})}}}))((function(e){var t=e.algorithm,n=e.problemType,o=e.populationSize,i=e.numberOfGenerations,a=e.maxTreeDepth,c=e.tournamentSize,u=e.tournamentWinningProbability,s=e.crossoverProbability,l=e.pointsRaw,b=e.leavesRaw,f=e.setFunctions,d=e.functions,p=e.setAlgorithmState,h=e.setCurrentGeneration,m=e.setBestSpecimens,j=e.setBestSpecimen;return t.setProperty("populationSize",Number(o)),t.setProperty("numberOfGenerations",Number(i)),t.setProperty("maxTreeDepth",Number(a)),t.setProperty("tournamentSize",Number(c)),t.setProperty("tournamentWinningProbability",Number(u)),t.setProperty("crossoverProbability",Number(s)),t.setProperty("pointsRaw",l),t.setProperty("leavesRaw",b),0!==Object.keys(d).length?t.setUserSelectedFunctions(d):f(t.getUserSelectedFunctions()),console.log(n,t.problemType),console.log(n!==t.problemType),n!==t.problemType&&(t.setProperty("problemType",n),f(t.getUserSelectedFunctions())),t.setReduxSetters({setAlgorithmState:p,setCurrentGeneration:h,setBestSpecimens:m,setBestSpecimen:j}),Object(r.jsx)(r.Fragment,{})})),I=n(13),U=n(8),B=n(19),z=n(73),D=n(74),L=n(16),W=function(e,t){return 0!==t?e/t:e},V=function(e,t){return e>0&&t>0&&1!==e?Math.log(t)/Math.log(e):0},q=function(e){return Math.sqrt(Math.abs(e))},H=function(e,t){return e&&!t||!e&&t},J=function(e,t,n){return e?t:n},X=n(383).a((function(e,t){return Object(U.a)(Object(U.a)({},e),{},{name:t,arity:e.function.length})}))({add:{function:function(e,t){return e+t},toCode:function(e,t){return"(".concat(e," + ").concat(t,")")},onlyFor:["integer","real"]},subtract:{function:function(e,t){return e-t},toCode:function(e,t){return"(".concat(e," - ").concat(t,")")},onlyFor:["integer","real"]},multiply:{function:function(e,t){return e*t},toCode:function(e,t){return"".concat(e," * ").concat(t)},onlyFor:["integer","real"]},divide:{function:function(e,t){return e/t},toCode:function(e,t){return"".concat(e," / ").concat(t)},onlyFor:["integer","real"]},protectedDivide:{function:W,toCode:function(e,t){return"protectedDivide(".concat(e,", ").concat(t,")")},codeAddition:"const protectedDivide = ".concat(W.toString()),onlyFor:["integer","real"]},min:{function:function(e,t){return Math.min(e,t)},toCode:function(e,t){return"Math.min(".concat(e,", ").concat(t,")")},onlyFor:["integer","real"]},max:{function:function(e,t){return Math.max(e,t)},toCode:function(e,t){return"Math.max(".concat(e,", ").concat(t,")")},onlyFor:["integer","real"]},exp:{function:function(e){return Math.exp(e)},toCode:function(e){return"Math.exp(".concat(e,")")},onlyFor:["integer","real"]},pow:{function:function(e,t){return Math.pow(e,t)},toCode:function(e,t){return"Math.pow(".concat(e,", ").concat(t,")")},onlyFor:["integer","real"]},log:{function:function(e,t){return Math.log(t)/Math.log(e)},toCode:function(e,t){return"Math.log(".concat(t,") / Math.log(").concat(e,")")},onlyFor:["integer","real"]},protectedLog:{function:V,toCode:function(e,t){return"protectedLog(".concat(e,", ").concat(t,")")},codeAddition:"const protectedLog = ".concat(V.toString()),onlyFor:["integer","real"]},sin:{function:function(e){return Math.sin(e)},toCode:function(e){return"Math.sin(".concat(e,")")},onlyFor:["integer","real"]},cos:{function:function(e){return Math.cos(e)},toCode:function(e){return"Math.cos(".concat(e,")")},onlyFor:["integer","real"]},sqrt:{function:function(e){return Math.sqrt(e)},toCode:function(e){return"Math.sqrt(".concat(e,")")},onlyFor:["integer","real"]},protectedSqrt:{function:q,toCode:function(e){return"protectedSqrt(".concat(e,")")},codeAddition:"const protectedSqrt = ".concat(q.toString()),onlyFor:["integer","real"]},neg:{function:function(e){return-e},toCode:function(e){return"-".concat(e)},onlyFor:["integer","real"]},or:{function:function(e,t){return e|t},toCode:function(e,t){return"(".concat(e," | ").concat(t,")")},onlyFor:["integer"]},and:{function:function(e,t){return e&t},toCode:function(e,t){return"(".concat(e," & ").concat(t,")")},onlyFor:["integer"]},xor:{function:function(e,t){return e^t},toCode:function(e,t){return"(".concat(e," ^ ").concat(t,")")},onlyFor:["integer"]},bitwiseOr:{function:function(e,t){return e|t},toCode:function(e,t){return"(".concat(e," || ").concat(t,")")},onlyFor:["boolean"]},bitwiseAnd:{function:function(e,t){return e&&t},toCode:function(e,t){return"(".concat(e," && ").concat(t,")")},onlyFor:["boolean"]},bitwiseXor:{function:H,toCode:function(e,t){return"bitwiseXor(".concat(e,", ").concat(t,")")},codeAddition:"const bitwiseXor = ".concat(H.toString()),onlyFor:["boolean"]},ifThenElse:{function:J,toCode:function(e,t,n){return"ifThenElse(".concat(e,", ").concat(t,", ").concat(n,")")},codeAddition:"const ifThenElse = ".concat(J.toString()),onlyFor:["boolean"]},not:{function:function(e){return!e},toCode:function(e){return"!(".concat(e,")")},onlyFor:["boolean"]}}),Z=n(389),K=n(320).specimenEvaluator,Q=n(321),Y=Q.generateTree,$=Q.mutate,ee=Q.crossover,te=n(322).assignFitness,ne=function(){function e(){Object(z.a)(this,e),this.problemType="real",this.running=!1,this.mode="Fullnt",this.reduxSetters={},this.functions=X,this.inputVariables=[],this.calculateUsableFuncitons(),this.evaluate=K(X),this.currentGenerationNumber=0,console.log({functions:X}),this.sortingFunction=function(e,t){return isNaN(e.fitness)?1:isNaN(t.fitness)?-1:e.fitness>t.fitness?1:t.fitness>e.fitness?-1:e.subNodesCount>t.subNodesCount?1:t.subNodesCount>e.subNodesCount?-1:0}}return Object(D.a)(e,[{key:"calculateUsableFuncitons",value:function(){var e=this;console.log(this.problemType),this.functionsArray=Object.values(X).filter((function(t){return t.onlyFor.includes(e.problemType)})),this.userSelectedFunctions=Z.a(Object.keys(this.functions).filter((function(t){return e.functions[t].onlyFor.includes(e.problemType)})).map((function(e){return Object(B.a)({},e,!0)}))),console.log("test:",this.userSelectedFunctions),console.log(Z.a(Object.keys(this.functions).filter((function(t){return e.functions[t].onlyFor.includes(e.problemType)})).map((function(e){return Object(B.a)({},e,!0)}))))}},{key:"getUserSelectedFunctions",value:function(){return console.log(this.userSelectedFunctions),this.userSelectedFunctions}},{key:"setUserSelectedFunctions",value:function(e){var t=this;this.userSelectedFunctions=Z.a(Object.keys(this.userSelectedFunctions).map((function(t){return Object(B.a)({},t,!!e[t])}))),this.functionsArray=Object.values(this.functions).filter((function(n){return!!e[n.name]&&n.onlyFor.includes(t.problemType)}))}},{key:"setReduxSetters",value:function(e){this.reduxSetters=Object(U.a)(Object(U.a)({},this.reduxSetters),e)}},{key:"setProperty",value:function(e,t){this[e]=t,"problemType"===e&&this.calculateUsableFuncitons()}},{key:"parsePoints",value:function(){var e={real:function(e){return Number(e)},integer:function(e){return Math.round(Number(e))},boolean:function(e){return["true","1"].includes(e.trim().toLowerCase())}}[this.problemType];this.points=this.pointsRaw.split("\n").map((function(t){var n=t.split(",").map((function(t){return e(t)})),r=n.slice(0,-1),o=n.slice(-1)[0];return Object(U.a)(Object(U.a)({},r.reduce((function(e,t){return{value:Object(U.a)(Object(U.a)({},e.value),{},Object(B.a)({},"x".concat(e.i),t)),i:e.i+1}}),{value:{},i:0}).value),{},{y:o})})),console.log({points:this.points})}},{key:"parseLeaves",value:function(){var e=this,t="boolean"!==this.problemType?this.leavesRaw.split("\n").map((function(t){if((a=t).startsWith("(")&&a.endsWith(")")){var n=t.slice(1,-1).split(",").map((function(e){return Number(e)})),r=Object(b.a)(n,2),o=r[0],i=r[1];return"real"===e.problemType?function(){return Object(L.getRandom)(o,i)}:function(){return Object(L.randomIntInRange)(o,i)}}return function(){return Number(t)};var a})):[!0,!1].map((function(e){return function(){return e}}));this.inputVariables=Object.keys(this.points[0]).filter((function(e){return"y"!==e}));var n=this.inputVariables.map((function(e){return function(){return e}}));this.leavesFunctions=[].concat(Object(I.a)(t),Object(I.a)(n))}},{key:"createGenerationZero",value:function(){var e=this,t=Object(I.a)(Array(this.populationSize).keys()).map((function(){return Y("",e.functionsArray,e.leavesFunctions,e.maxTreeDepth)}));t.forEach((function(t){return te(e.evaluate,e.points,t)})),t.sort(this.sortingFunction),this.generation=t}},{key:"generateNextGeneration",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,r,o,i,a,c,u,l,f=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(I.a)(Array(this.populationSize).keys()),n=0;n<t.length;)n<t.length-1&&Object(L.trueWithProbabilty)(this.crossoverProbability)?(r=Object(L.chooseOne)(this.generation,this.tournamentSize),o=Object(L.chooseOne)(this.generation,this.tournamentSize),i=ee(r,o),a=Object(b.a)(i,2),c=a[0],u=a[1],t[n]=c,n++,t[n]=u,n++):(l=Object(L.chooseOne)(this.generation,this.tournamentSize),t[n]=$(l,this.mode,this.functionsArray,this.leavesFunctions,this.maxTreeDepth),n++),n%5e3===0&&console.log(n);t.forEach((function(e){return te(f.evaluate,f.points,e)})),t.sort(this.sortingFunction),this.newGeneration=t;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setBestSpecimensRedux",value:function(){var e=this;this.reduxSetters.setBestSpecimens(this.generation.slice(0,10).map((function(t){return Object(L.mapSpecimenToStorable)(t,e.functions,e.inputVariables)})))}},{key:"startAndCreateFirstGeneration",value:function(){this.reduxSetters.setAlgorithmState("RUNNING"),this.parsePoints(),this.parseLeaves(),this.currentGenerationNumber=1,this.reduxSetters.setCurrentGeneration(this.currentGenerationNumber),this.createGenerationZero(),this.bestSpecimen=Object(L.structuredClone)(this.generation[0]),this.reduxSetters.setBestSpecimen(Object(L.mapSpecimenToStorable)(this.bestSpecimen,this.functions,this.inputVariables)),this.setBestSpecimensRedux()}},{key:"createNextGeneration",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.parsePoints(),this.parseLeaves(),this.currentGenerationNumber++,this.reduxSetters.setCurrentGeneration(this.currentGenerationNumber),e.next=6,this.generateNextGeneration();case 6:this.generation=this.newGeneration,this.setBestSpecimensRedux(),t=this.generation[0],1===this.sortingFunction(this.bestSpecimen,t)&&(this.bestSpecimen=Object(L.structuredClone)(t),this.reduxSetters.setBestSpecimen(Object(L.mapSpecimenToStorable)(this.bestSpecimen,this.functions,this.inputVariables)));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"runIfNotFinished",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.parsePoints(),this.parseLeaves(),!(this.currentGenerationNumber>=this.numberOfGenerations)){e.next=4;break}return e.abrupt("return",!0);case 4:if(0!==this.currentGenerationNumber){e.next=8;break}this.startAndCreateFirstGeneration(),e.next=10;break;case 8:return e.next=10,this.createNextGeneration();case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function re(){var e=new ne;return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(N,{algorithm:e}),Object(r.jsx)(M,{}),Object(r.jsx)(_,{algorithm:e})]})}var oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,391)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))},ie=n(45),ae={problemType:"real",populationSize:25e3,desiredGeneration:0,maxTreeDepth:6,tournamentSize:50,crossoverProbability:.5,pointsRaw:Object(I.a)(Array(20).keys()).map((function(e){var t=e/10;return{x:t.toFixed(2),y:(t*t-t).toFixed(2)}})).map((function(e){var t=e.x,n=e.y;return"".concat(t,", ").concat(n)})).join("\n"),leavesRaw:["1","-1","(-10,10)"].join("\n"),functions:{},bestSpecimens:[],bestSpecimen:null,currentGeneration:"0",algorithmState:"BEFORE_RUN"},ce=n(76),ue=Object(ie.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INPUT_CHANGE":return"RUNNING"===e.algorithmState?e:Object(U.a)(Object(U.a)({},e),{},Object(B.a)({},t.field,t.value));case"SET_FUNCTIONS":return Object(U.a)(Object(U.a)({},e),{},{functions:t.functions});case"SET_FUNCTION":return Object(U.a)(Object(U.a)({},e),{},{functions:Object(U.a)(Object(U.a)({},e.functions),{},Object(B.a)({},t.name,t.value))});case"SET_ALGORITHM_STATE":return Object(U.a)(Object(U.a)({},e),{},{algorithmState:t.value,desiredGeneration:"BEFORE_RUN"===t.value?0:e.desiredGeneration});case"SET_CURRENT_GENERATION":return Object(U.a)(Object(U.a)({},e),{},{currentGeneration:t.value});case"SET_BEST_SPECIMENS":return Object(U.a)(Object(U.a)({},e),{},{bestSpecimens:t.value});case"SET_BEST_SPECIMEN":return Object(U.a)(Object(U.a)({},e),{},{bestSpecimen:t.value});case"SET_DESIRED_GENERAION":return Object(U.a)(Object(U.a)({},e),{},{desiredGeneration:t.value});default:return e}}),Object(ce.composeWithDevTools)());c.a.render(Object(r.jsx)(g.a,{store:ue,children:Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(re,{})})}),document.getElementById("root")),oe()},93:function(e,t,n){},94:function(e,t,n){}},[[323,1,2]]]);
//# sourceMappingURL=main.ceafa473.chunk.js.map